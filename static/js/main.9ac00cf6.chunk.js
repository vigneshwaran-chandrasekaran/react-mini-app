(window["webpackJsonpreact-mini-app"]=window["webpackJsonpreact-mini-app"]||[]).push([[0],{109:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(14),l=t.n(c),o=(t(65),t(18)),s=(t(66),t(67),t(114)),i=t(115),m=t(55),u=t(117),d=t(116),g=function(e){return r.a.createElement(s.a,{bg:"light",expand:"lg"},r.a.createElement(s.a.Brand,null,"Movie Catalog"),r.a.createElement(s.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(s.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(i.a,{className:"w-75",onSubmit:e.onSubmitHandle},r.a.createElement(m.a,{value:e.searchTerm,onChange:e.searchOnChange,type:"text",placeholder:"Search movie",className:"mr-sm-2"})),r.a.createElement(u.a,{className:"mr-auto"},r.a.createElement(d.a,{title:"Vigneshwaran",id:"basic-nav-dropdown"},r.a.createElement(d.a.Item,null,"Logout")))))};g.defaultProps={searchTerm:"batman"};var f=g,p=t(118),v=function(e){var a=e.src,t=e.title,c=Object(n.useState)(a),l=Object(o.a)(c,2),s=l[0],i=l[1];return r.a.createElement("div",{className:"image-box"},r.a.createElement("img",{className:"card-img-top",src:s,alt:t,onError:function(){i("https://dummyimage.com/200x200/ccc/d6d6d6")}}))};v.defaultProps={src:"https://dummyimage.com/200x200/ccc/d6d6d6",title:"information"};var E=v,b=function(e){var a=e.Title,t=e.Year,n=e.imdbID,c=e.Poster,l=e.Type;return r.a.createElement("div",{className:"col-12 col-sm-6 col-md-3 col-lg-3 mb-5 d-flex justify-content-center movie"},r.a.createElement(p.a,{style:{width:"18rem"}},r.a.createElement(E,{src:c,title:a}),r.a.createElement(p.a.Body,null,r.a.createElement("div",{className:"movie-name"},a),r.a.createElement("div",{className:"d-flex justify-content-between my-2"},r.a.createElement("div",{className:"d-flex justify-content-start"},r.a.createElement("span",{className:"badge badge-warning movie-i mr-2","data-toggle":"tooltip",title:"Release year"},t),r.a.createElement("span",{"data-toggle":"tooltip",title:"Film genre"},l)),r.a.createElement("div",{className:"badge badge-info movie-i","data-toggle":"tooltip",title:"IMDb ID"},n.toUpperCase())))))};b.defaultProps={Title:"",Year:"",imdbID:"",Poster:"",Type:""};var h=b,w=t(27),y=t.n(w);y.a.defaults.baseURL="https://www.omdbapi.com/",y.a.interceptors.request.use((function(e){return console.log("request starts"),e}),(function(e){return console.log("request error"),Promise.reject(e)})),y.a.interceptors.response.use((function(e){return console.log("request ends"),e}),(function(e){return console.log("response error"),Promise.reject(e)}));var N=y.a,j=function(e){var a=e.count,t=e.searchedKey,n=e.page,c=e.lastPage;return r.a.createElement("div",{className:"my-4 shadow-none p-3 bg-light rounded"},r.a.createElement("h4",null,"You searched for:",r.a.createElement("span",{className:"font-weight-bold text-muted"}," ",t),",",r.a.createElement("span",{className:"font-weight-bold text-muted"}," ",a," "),"results found, showing page",r.a.createElement("span",{className:"font-weight-bold text-muted"}," ",n," of ",c," ")))};j.defaultProps={page:1,searchedKey:"batman",count:"0"};var O=j,x=function(e){return e.loader?r.a.createElement("div",{className:"loader-line"}):null};x.defaultProps={loader:!1};var P=x,C=function(){return r.a.createElement("div",{className:"shimmer-container mt-5"},r.a.createElement("div",{className:"post d-flex justify-content-around"},r.a.createElement("div",{className:"avatar"}),r.a.createElement("div",{className:"avatar"}),r.a.createElement("div",{className:"avatar"}),r.a.createElement("div",{className:"avatar"})))},S=t(112),T=t(113),k=function(){return r.a.createElement(S.a,{className:"my-5"},r.a.createElement(T.a,null,r.a.createElement("h1",null,"No movie found ",r.a.createElement("span",{role:"img","aria-label":"Emoji"},"\ud83d\ude14")),r.a.createElement("p",null,"Please modify your search term.")))},D=t(59),I=t.n(D),q=function(e){var a=e.pageOnChange,t=e.page,n=e.count;return r.a.createElement("div",{className:"d-flex flex-row justify-content-center flex-wrap shadow-none p-3 bg-light rounded"},r.a.createElement(I.a,{innerClass:"pagination w-75 d-flex flex-row justify-content-center flex-wrap m-0",activePage:t,itemsCountPerPage:10,totalItemsCount:n,pageRangeDisplayed:10,onChange:a,linkClass:"m-1 btn btn-info",activeLinkClass:"active",hideDisabled:!0}))};q.defaultProps={page:1};var B=q,R=function(){var e=Object(n.useState)(!1),a=Object(o.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)([]),s=Object(o.a)(l,2),i=s[0],m=s[1],u=Object(n.useState)(0),d=Object(o.a)(u,2),g=d[0],p=d[1],v=Object(n.useState)(1),E=Object(o.a)(v,2),b=E[0],w=E[1],y=Object(n.useState)("batman"),j=Object(o.a)(y,2),x=j[0],S=j[1],T=Object(n.useState)("batman"),D=Object(o.a)(T,2),I=D[0],q=D[1];Object(n.useEffect)((function(){R()}),[b]);var R=function(){c(!0),N.get("?i=tt3896198&apikey=fa281222&s=".concat(x,"&page=").concat(b)).then((function(e){m(e.data.Search),p(e.data.totalResults)})).catch((function(e){console.log(e)})).finally((function(){setTimeout((function(){c(!1)}),1e3)}))},K=function(e){w(e)};return r.a.createElement("div",{className:"App"},r.a.createElement(P,{loader:t}),r.a.createElement(f,{onSubmitHandle:function(e){e.preventDefault(),""!==x&&(w(1),q(x),R())},searchTerm:x,searchOnChange:function(e){S(e.target.value)}}),t?r.a.createElement(C,null):g>0&&i?r.a.createElement(r.a.Fragment,null,r.a.createElement(O,{count:g,searchedKey:I,page:b,lastPage:Math.ceil(g/10)}),r.a.createElement("section",{className:"container-fluid"},r.a.createElement("div",{className:"row"},i&&i.map((function(e,a){return r.a.createElement(h,Object.assign({key:a},e))})))),r.a.createElement(B,{page:b,count:g,pageOnChange:K})):r.a.createElement(k,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},60:function(e,a,t){e.exports=t(109)},65:function(e,a,t){},67:function(e,a,t){}},[[60,1,2]]]);
//# sourceMappingURL=main.9ac00cf6.chunk.js.map